# CDL Master TODO
## Everything We Need To Do

> *"A dream without a plan is just a wish."*

---

## üî¥ CRITICAL ‚Äî Before Tournament I (Jan 31)

### Registration & Teams
- [x] Get first team registered (proof of concept) ‚úÖ
- [ ] Reach 5 teams (halfway)
- [ ] Reach 10 teams (full tournament)
- [ ] Create waitlist system if we exceed capacity
- [ ] Confirm all registered teams 48 hours before

### Venue & Logistics
- [ ] Confirm Mr Garcia Cigars booking
- [ ] Site visit ‚Äî measure space, plan layout
- [ ] Determine table setup (how many games simultaneously?)
- [ ] Plan bracket/tournament flow
- [ ] Equipment list (tables, dominoes, scoreboards)
- [ ] Source quality domino sets
- [ ] Backup dominoes
- [ ] Printed brackets
- [ ] Signage for venue

### Marketing & Outreach
- [ ] Create Instagram account (@cubandominoleague)
- [ ] Create TikTok account
- [ ] First post ‚Äî announcement
- [ ] Outreach to North Jersey Cuban community (Union City, West New York)
- [ ] Outreach to NYC Cuban community
- [ ] Find 3-5 OG players to invite/feature
- [ ] Flyer design for local distribution
- [ ] Print flyers
- [ ] Distribute flyers at Cuban spots

### Content & Production
- [ ] Plan filming setup for Tournament I
- [ ] Camera equipment sourced
- [ ] Audio equipment (table mic for slams)
- [ ] Shot list for the event
- [ ] Identify 2-3 compelling player stories to follow
- [ ] B-roll shot list (cigars, cafecito, atmosphere)

### Brand & Design
- [ ] Finalize CDL logo
- [ ] Create social media templates
- [ ] Event poster/graphic
- [ ] Player name tags/cards
- [ ] Winner trophy/prize presentation

---

## üü° IMPORTANT ‚Äî First 30 Days After Tournament I

### Content Creation
- [ ] Edit Tournament I highlight reel (60-90 seconds)
- [ ] Create 5-10 short clips for social
- [ ] Full match edit of finals
- [ ] Player profile videos
- [ ] "Best slams" compilation
- [ ] "Best trash talk" compilation
- [ ] Behind-the-scenes content
- [ ] Winner interview

### Growth & Community
- [ ] Post-tournament email to all participants
- [ ] Gather testimonials
- [ ] Photo gallery on website
- [ ] Announce Tournament II date
- [ ] Start Tournament II registration
- [ ] Build email list
- [x] Community chat ‚Äî **"La Mesa" built into website!**

### Brand Development
- [x] Brand guidelines document (colors, fonts, usage) ‚Äî **DESIGN-SYSTEM.md created!**
- [x] "The Bone Language" design system implemented
- [ ] Tagline finalized ("Your seat's waiting" or alternative)
- [ ] Tone of voice guide
- [ ] Photography style guide
- [ ] Video style guide

### Partnerships
- [ ] Identify potential sponsors (local first)
- [ ] Cigar brands outreach
- [ ] Cuban coffee brands outreach
- [ ] Local Cuban restaurants/businesses
- [ ] Media outreach (local Cuban press)

---

## üü¢ FUTURE ‚Äî Building The League

### Expansion
- [ ] Tournament II planning
- [ ] Miami market research
- [ ] North Jersey venue scouting
- [ ] Regular league night format?
- [ ] Rankings/standings system
- [ ] Player profiles database

### Broadcast & Media
- [ ] YouTube channel setup
- [ ] Streaming capability research
- [ ] Commentary team identification
- [ ] Broadcast graphics package
- [ ] Theme music/audio branding

### Business & Operations
- [ ] Legal entity formation
- [ ] Bank account
- [ ] Sponsorship deck
- [ ] Pricing structure for future events
- [ ] Merchandise exploration
- [ ] Website upgrades (player profiles, brackets, etc.)

### Technology
- [ ] Live scoring system?
- [ ] Bracket management tool
- [ ] Player registration database
- [ ] Mobile-friendly improvements

---

## By Department

### Dana White (CEO)
- [ ] Secure venue confirmation
- [ ] Set budget for Tournament I
- [ ] Identify potential sponsors to approach
- [ ] Overall timeline accountability

### Jay-Z (Chief Brand Officer)
- [ ] Approve final brand positioning
- [ ] Review all public-facing materials
- [ ] Cultural authenticity check
- [ ] "Cool factor" gut check on everything

### Capablanca (Commissioner)
- [ ] Official ruleset document
- [ ] Tournament format finalized
- [ ] Dispute resolution process
- [ ] Fair play guidelines

### Benny Binion (Tournament Ops)
- [ ] Event day run-of-show
- [ ] Registration/check-in process
- [ ] Bracket management
- [ ] Prize distribution plan
- [ ] Venue layout diagram

### Herb Lubalin (Brand Identity)
- [ ] Logo concepts
- [ ] Typography system
- [ ] Color specifications
- [ ] Logo usage guidelines

### George Lois (Advertising)
- [ ] Tagline options
- [ ] Flyer/poster concept
- [ ] Social ad concepts
- [ ] Messaging hierarchy

### Wes Anderson (Visual Style)
- [ ] Color palette hex codes
- [ ] Photography direction
- [ ] Video composition rules
- [ ] Event aesthetic direction

### Wifredo Lam (Artistic Director)
- [ ] Cultural authenticity review
- [ ] Symbolic elements guidance
- [ ] Spiritual/ceremonial aspects
- [ ] Cuban heritage verification

### Daisy Exp√≥sito-Ulla (Marketing)
- [ ] Social media strategy
- [ ] Community outreach plan
- [ ] Content calendar
- [ ] Influencer/OG identification
- [ ] North Jersey community connections

### Steve Lipscomb (Broadcast & Production)
- [ ] Equipment list
- [ ] Filming plan
- [ ] Shot list
- [ ] Audio setup
- [ ] Post-production workflow

---

## Completed ‚úÖ

- [x] Assemble dream team (10 legends)
- [x] **cubandominoleague.com LIVE**
- [x] Registration system working
- [x] Venue identified (Mr Garcia Cigars)
- [x] Date set (January 31, 2025)
- [x] Visual assets created (4 panels)
- [x] Team documentation complete
- [x] Domain secured and pointing
- [x] Git-connected Cloudflare Pages deployment configured
- [x] Environment variables set in Cloudflare (APP_SCRIPT_URL, APP_SCRIPT_SECRET, VENUE_URL)
- [x] Custom domain migrated to new Git-connected project
- [x] Old direct-upload project deleted
- [x] **First team registered!** (proof of concept verified)
- [x] Email confirmation system working (Resend API only - no Gmail fallback)
- [x] Host notification emails working
- [x] Gmail fallback removed (unprofessional - sends from personal email)
- [x] Bug documentation folder created (`DOCS/BUGS/`)
- [x] Registration bug fixed (email errors no longer crash registration)
- [x] Troubleshooting documentation created (TROUBLESHOOTING.md)
- [x] Email routing configured (Erik@cubandominoleague.com ‚Üí efelipe1992@gmail.com)
- [x] Contact email added to confirmation emails
- [x] **"Who's In So Far"** ‚Äî Live display of registered teams on form panel
- [x] **"La Mesa" Live Chat** ‚Äî Real-time chat using Supabase for pre-tournament hype
- [x] Website copy finalized (panels 2-4 reviewed by Dream Team)
- [x] Player personas created (6 personas: Landy, Maria Elena, Danny, Carmen, Alex, Gaby)
- [x] Cuban pixel avatars (7 options: domino, cigar, cafecito, carro, palma, bandera, conga)
- [x] Chat reactions (üî•üòÇüëèüí™üå¥)
- [x] Pinned messages feature
- [x] Panel 5 Spanish tagline: "La mesa te espera"
- [x] **"CDL I" tournament edition marker** ‚Äî UFC-style event branding
- [x] **La Mesa post-registration flow** ‚Äî Chat unlocks after sign-up (reward system)
- [x] **Identity screen UX redesign** ‚Äî Custom dropdown, live player count, flag selector
- [x] **"The Bone Language" design system** ‚Äî Unified 12px border-radius, domino tile shape language
- [x] **La Mesa domino tile button** ‚Äî Vertical domino with pip pattern replaces generic pill
- [x] **Hired Tobias van Schneider** ‚Äî Chief Product Designer (Spotify dark UI, micro-interactions)
- [x] **Design Team Site Review** ‚Äî Full audit with Wifredo, George, Wes, Herb
- [x] **Domino button 50% larger** ‚Äî Now 84√ó135px with heartbeat pulse animation
- [x] **Free Agent single pip** ‚Äî Brass pip icon replaces text badge (Bone Language)
- [x] **Chat warm fog gradient** ‚Äî Darker at top, lighter where you type
- [x] **Send button slam animation** ‚Äî Scale + burst + ripple on send
- [x] **Film grain on backgrounds** ‚Äî 2-3% noise overlay for memory texture
- [x] **Registration form centered** ‚Äî Flexbox alignment per Wes Anderson
- [x] **LA MESA brass underline** ‚Äî Sign above a door feel per Herb Lubalin

---

## Deployment Guide: Cloudflare Pages + Git

### How It Works Now
Every `git push` to `main` automatically deploys to cubandominoleague.com.

### Build Configuration
| Setting | Value |
|---------|-------|
| Framework preset | Astro |
| Build command | `npm run build` |
| Build output directory | `dist` |
| Production branch | `main` |

### Environment Variables (Set in Cloudflare Dashboard)
```
APP_SCRIPT_URL=https://script.google.com/macros/s/XXXXX/exec
APP_SCRIPT_SECRET=your-shared-secret
VENUE_URL=https://mrgarciacigars.com/
```

### Deploy Workflow
```bash
# Make changes locally
git add .
git commit -m "Your changes"
git push origin main
# Cloudflare automatically builds and deploys
```

### Cloudflare Dashboard
- **Project**: cubandominotournament
- **Custom domain**: cubandominoleague.com
- **Settings ‚Üí Environment variables**: Add secrets here
- **Deployments**: View build logs and rollback if needed

### Migration History (January 2025)
Original project (`cuban-domino-league`) was created via `wrangler pages deploy` (direct upload).
Since Git cannot be added to direct-upload projects, we created a new Git-connected project
(`cubandominotournament`), migrated the custom domain, and deleted the old project.

**Status: Complete** ‚Äî All deploys now happen automatically via `git push`.

---

## Notes

*Add notes from team discussions here*

---

**Last Updated:** January 13, 2026

*"La mesa te espera."*

---

## Recent Session Notes (Jan 13, 2026) ‚Äî Design Team Implementation

Following Tobias van Schneider's site audit and the full design team review session, implemented the team's consensus recommendations:

### Implemented Changes:

1. **Domino Button 50% Larger + Heartbeat Pulse** (George, Wifredo, Tobias)
   - Size increased from 56√ó90px to 84√ó135px
   - Added `boneHeartbeat` animation - subtle scale pulse every 3s
   - "Put the bone in their face." ‚Äî George Lois

2. **Single Pip for Free Agent** (All)
   - Replaced text badge "Free Agent" with single brass pip
   - "One pip is incomplete. A soul looking for its other half." ‚Äî Wifredo Lam
   - Tooltip on hover: "Looking for a partner"

3. **Warm Fog Gradient in Chat** (Tobias, Wes)
   - Added fog gradient: darker at top, lighter at bottom (where you type)
   - "Amber in the shadows." ‚Äî Wes Anderson
   - Sticky fog layer at top of messages area

4. **Send Button Slam Animation** (Tobias)
   - Scale down to 0.9 + shadow burst + ripple on send
   - "The slam is ritual. When you play a domino, you're declaring." ‚Äî Wifredo Lam

5. **Film Grain on All Backgrounds** (Wes)
   - 2-3% noise overlay on all panel backgrounds
   - "Like photos from 1978, lovingly preserved." ‚Äî Wes Anderson

6. **Center Registration Form** (Wes)
   - Added flexbox centering to form panel content
   - "The form should be centered. Center it." ‚Äî Wes Anderson

7. **Brass Underline on "LA MESA" Header** (Herb)
   - Added brass gradient underline beneath title
   - Decorative pip accent below subtitle
   - "Like a sign above a door. You have arrived." ‚Äî Herb Lubalin

### Team Documentation Created:
- `TEAM/chief-product-designer-tobias-van-schneider.md`
- `TEAM/SESSIONS/tobias-site-audit-jan13.md`
- `TEAM/SESSIONS/design-team-site-review-jan13.md`

---

## Recent Session Notes (Jan 13, 2026) ‚Äî Bone Language

### "The Bone Language" Design System

Created unified design system based on the domino tile shape. All UI components now share consistent visual language.

**Key Changes:**
- **La Mesa button**: Transformed from generic pill to vertical domino tile (56√ó90px) with 5-pip pattern
- **Border-radius unified**: All components now use `12px` (was mix of 0, 50px, 999px)
- **Animation timing**: Reduced stagger delays for snappier feel (480ms ‚Üí 260ms max)
- **Component updates**:
  - Registration form submit button
  - Success screen CTA
  - Tutorial panel CTA
  - Identity screen indicator
  - ENTER button

**Documentation:** See `DESIGN-SYSTEM.md` for full brand guidelines.

### La Mesa Post-Registration Flow

La Mesa chat is now a "reward" after registration:
1. Widget hidden by default for new visitors
2. Success overlay includes CTA: "Pull up a chair at La Mesa"
3. Tutorial panel appears for users who dismiss success
4. `localStorage.cdl_registered` tracks registration state
5. Previously registered users see La Mesa immediately

### Identity Screen UX Improvements

- Custom dropdown replaces native `<select>` for modern feel
- "X at the table" live indicator shows player count (FOMO)
- Flag selector with scroll hint
- Cuba and USA flags prioritized in order

---

## Recent Session Notes (Jan 12, 2026)

### Chat Features Added
New "La Mesa" chat features require Supabase schema update. Run in SQL Editor:
```sql
ALTER TABLE messages
ADD COLUMN IF NOT EXISTS avatar TEXT DEFAULT 'domino',
ADD COLUMN IF NOT EXISTS reactions JSONB DEFAULT '{}',
ADD COLUMN IF NOT EXISTS is_pinned BOOLEAN DEFAULT false;
```

Migration file: `supabase/migrations/20260112045342_add_chat_features.sql`

---

## Recent Session Notes (Jan 11, 2025)

### Registration System Bug Fix
**Problem:** Form submissions were failing with 500 errors when email delivery failed (bounced addresses, invalid emails, etc.)

**Root Cause:** The `doPost()` function in Apps Script treated email sending as blocking - if Resend returned an error, the entire registration would fail.

**Solution:** Wrapped all `sendEmail()` calls in try/catch blocks. Registration now succeeds even if email delivery fails. Errors are logged but don't crash the request.

**Documentation:** See `TROUBLESHOOTING.md` for full details and future debugging tips.

### Email Setup
| Purpose | Address | Forwards To |
|---------|---------|-------------|
| Transactional (sends from) | `no-reply@cubandominoleague.com` | N/A |
| Contact (questions) | `Erik@cubandominoleague.com` | efelipe1992@gmail.com |

**Note:** Erik needs to click the Cloudflare verification email to activate routing.

**Confirmation emails now say:** "Questions? Email us at Erik@cubandominoleague.com"

### Gmail Fallback Removal (Jan 11, 2025)
**Problem:** Gmail fallback in `Code.gs` would send from personal email if Resend wasn't configured.

**Solution:** Removed Gmail fallback entirely. If `RESEND_API_KEY` is not set, email fails (safely - registration still saves per previous fix).

**Files changed:**
- `apps-script/Code.gs` - Removed `GmailApp.sendEmail()` fallback, added `checkResendConfig()` helper
- `TROUBLESHOOTING.md` - Updated to reference new `DOCS/BUGS/` folder
- Created `DOCS/BUGS/` folder with structured bug documentation
